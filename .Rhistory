addCircleMarkers(label=~Gym,
weight = 3,
radius=10,
color="#ffa500")
bostonmap
bostoneight <- rgdal::readOGR("boston_wards_1915_1925.shp")
bostonmap <- leaflet(boston) %>%
addProviderTiles("CartoDB.Positron") %>%
setView(-71.061229, 42.357379, zoom = 13) %>%
addPolygons(data=bostoneight$data,
col = 'dodgerblue',
stroke = TRUE,
fillOpacity = 0.3,
smoothFactor = 0.5) %>%
addCircleMarkers(label=~Gym,
weight = 3,
radius=10,
color="#ffa500")
bostonmap
bostoneight <- rgdal::readOGR("boston_wards_1915_1925.shp", layer="data")
bostonmap <- leaflet(boston) %>%
addProviderTiles("CartoDB.Positron") %>%
setView(-71.061229, 42.357379, zoom = 13) %>%
addPolygons(data=bostoneight$data,
col = 'dodgerblue',
stroke = TRUE,
fillOpacity = 0.3,
smoothFactor = 0.5) %>%
addCircleMarkers(label=~Gym,
weight = 3,
radius=10,
color="#ffa500")
bostonmap <- leaflet(boston) %>%
addProviderTiles("CartoDB.Positron") %>%
setView(-71.061229, 42.357379, zoom = 13) %>%
addPolygons(data=bostoneight,
col = 'dodgerblue',
stroke = TRUE,
fillOpacity = 0.3,
smoothFactor = 0.5) %>%
addCircleMarkers(label=~Gym,
weight = 3,
radius=10,
color="#ffa500")
bostonmap
leaflet(bostoneight) %>% addTiles() %>%
addPolygons(weight=.75,color="green",fillOpacity = .2)
leaflet(bostoneight$data) %>% addTiles() %>%
addPolygons(weight=.75,color="green",fillOpacity = .2)
leaflet(bostoneight) %>% addTiles() %>%
addPolygons(weight=.75,color="green",fillOpacity = .2)
bostoneight <- rgdal::readOGR("boston_wards_1915_1925.shp", layer="data")
leaflet(bostoneight) %>% addTiles() %>%
addPolygons(weight=.75,color="green",fillOpacity = .2)
bostoneight <- rgdal::readOGR("boston_wards_1915_1925.shp")
leaflet(bostoneight) %>% addTiles() %>%
addPolygons(weight=.75,color="green",fillOpacity = .2)
View(boston)
View(bostoneight)
leaflet(bostoneight) %>% addTiles() %>%
addPolygons(weight=.75,color="green",fillOpacity = .2)
bostoneight <- readOGR("boston_wards_1915_1925.shp")
library(rgdal)
bostoneight <- readOGR("boston_wards_1915_1925.shp")
bostonmap <- leaflet(boston) %>%
addProviderTiles("CartoDB.Positron") %>%
setView(-71.061229, 42.357379, zoom = 13) %>%
addPolygons(data=bostoneight,
col = 'dodgerblue',
stroke = TRUE,
fillOpacity = 0.3,
smoothFactor = 0.5) %>%
addCircleMarkers(label=~Gym,
weight = 3,
radius=10,
color="#ffa500")
bostonmap
bostonmap <- leaflet(boston) %>%
addProviderTiles("CartoDB.Positron") %>%
setView(-71.061229, 42.357379, zoom = 13) %>%
addPolygons(data=bostoneight,
col = 'dodgerblue',
stroke = TRUE,
fillOpacity = 1,
smoothFactor = 0.5) %>%
addCircleMarkers(label=~Gym,
weight = 3,
radius=10,
color="#ffa500")
bostonmap <- leaflet(boston) %>%
addProviderTiles("CartoDB.Positron") %>%
setView(-71.061229, 42.357379, zoom = 13) %>%
addPolygons(data=bostoneight,
col = 'dodgerblue',
stroke = TRUE,
fillOpacity = .75,
smoothFactor = 0.5) %>%
addCircleMarkers(label=~Gym,
weight = 3,
radius=10,
color="#ffa500")
bostoneight <- spTransform(bostoneight, CRS("+proj=longlat +ellps=GRS80"))
bostonmap <- leaflet(boston) %>%
addProviderTiles("CartoDB.Positron") %>%
setView(-71.061229, 42.357379, zoom = 13) %>%
addPolygons(data=bostoneight,
col = 'dodgerblue',
stroke = TRUE,
fillOpacity = .75,
smoothFactor = 0.5) %>%
addCircleMarkers(label=~Gym,
weight = 3,
radius=10,
color="#ffa500")
bostonmap
bostonmap <- leaflet(boston) %>%
addProviderTiles("CartoDB.Positron") %>%
setView(-71.061229, 42.357379, zoom = 13) %>%
addPolygons(data=bostoneight,
col = 'dodgerblue',
label = ~Ward_Num,
stroke = TRUE,
fillOpacity = .75,
smoothFactor = 0.5) %>%
addCircleMarkers(label=~Gym,
weight = 3,
radius=10,
color="#ffa500")
bostonmap
boston <- read.csv("gyms.csv", stringsAsFactors=F)
bostoneight <- readOGR("boston_wards_1915_1925.shp")
bostoneight <- spTransform(bostoneight, CRS("+proj=longlat +ellps=GRS80"))
bostonmap <- leaflet(boston) %>%
addProviderTiles("CartoDB.Positron") %>%
setView(-71.061229, 42.357379, zoom = 13) %>%
addPolygons(data=bostoneight,
col = 'dodgerblue',
label = ~Ward_Num,
stroke = TRUE,
fillOpacity = .75,
smoothFactor = 0.5) %>%
addCircleMarkers(label=~Gym,
weight = 3,
radius=10,
color="#ffa500")
bostonmap
boston <- read.csv("gyms.csv", stringsAsFactors=F)
bostoneight <- readOGR("boston_wards_1915_1925.shp")
bostoneight <- spTransform(bostoneight, CRS("+proj=longlat +ellps=GRS80"))
bostonmap <- leaflet(boston) %>%
addProviderTiles("CartoDB.Positron") %>%
setView(-71.061229, 42.357379, zoom = 13) %>%
addPolygons(data=bostoneight,
col = 'dodgerblue',
label = ~Ward_Num,
stroke = TRUE,
fillOpacity = .75,
smoothFactor = 0.5) %>%
addCircleMarkers(label=~Gym,
weight = 3,
radius=10,
color="#ffa500")
bostonmap
View(boston)
bostonmap <- leaflet(boston) %>%
addProviderTiles("CartoDB.Positron") %>%
setView(-71.061229, 42.357379, zoom = 13) %>%
addPolygons(data=bostoneight,
col = 'dodgerblue',
label = ~Ward_Num,
stroke = TRUE,
fillOpacity = .75,
smoothFactor = 0.5) %>%
addCircleMarkers(label=~gym.name,
weight = 3,
radius=10,
color="#ffa500")
bostonmap
bostonmap <- leaflet(boston) %>%
addProviderTiles("CartoDB.Positron") %>%
setView(-71.061229, 42.357379, zoom = 13) %>%
addPolygons(data=bostoneight,
col = 'dodgerblue',
label = ~Ward_Num,
stroke = TRUE,
fillOpacity = .3,
smoothFactor = 0.5) %>%
addCircleMarkers(label=~gym.name,
weight = 3,
radius=10,
color="#ffa500")
bostonmap
bostonmap <- leaflet(boston) %>%
addProviderTiles("CartoDB.Positron") %>%
setView(-71.061229, 42.357379, zoom = 13) %>%
addPolygons(data=bostoneight,
col = 'dodgerblue',
label = ~Ward_Num,
stroke = TRUE,
fillOpacity = .2,
smoothFactor = 0.5) %>%
addCircleMarkers(label=~gym.name,
weight = 3,
radius=5,
color="#ffa500")
bostonmap
bostonmap <- leaflet(boston) %>%
addProviderTiles("CartoDB.Positron") %>%
setView(-71.061229, 42.357379, zoom = 13) %>%
addPolygons(data=bostoneight,
col = 'dodgerblue',
label = ~Ward_Num,
stroke = TRUE,
fillOpacity = .2,
smoothFactor = 0.5) %>%
addCircleMarkers(label=~gym.name,
weight = 3,
radius=5,
color=~pal(type))
pal <- colorFactor(
palette = c('red', 'blue', 'green', 'purple', 'orange'),
domain = df$type
)
View(boston)
pal <- colorFactor(
palette = c('red', 'blue', 'green', 'purple', 'orange'),
domain = boston$type
)
bostonmap <- leaflet(boston) %>%
addProviderTiles("CartoDB.Positron") %>%
setView(-71.061229, 42.357379, zoom = 13) %>%
addPolygons(data=bostoneight,
col = 'dodgerblue',
label = ~Ward_Num,
stroke = TRUE,
fillOpacity = .2,
smoothFactor = 0.5) %>%
addCircleMarkers(label=~gym.name,
weight = 3,
radius=5,
color=~pal(type))
bostonmap
install.packages("dygraphs")
library(dygraphs)
gymattendance <- read.csv("data-attendance.csv", stringsAsFactors=F)
View(gymattendance)
dygraph(gymattendance) %>%
dySeries("type", label = "Male")
library(ggplot2)
View(gymattendance)
ggplot(gymattendance, aes(x=Year, y=attendance)) +
geom_line()
gymattendance <- group_by(Year) %>% summarise(count = n())
gymattendance <- gymattendance %>% group_by(Year) %>% summarise(count = n())
View(gymattendance)
gymattendance <- gymattendance %>% group_by(Year) %>% summarise(sum = n())
View(gymattendance)
gymattendance <- read.csv("data-attendance.csv", stringsAsFactors=F)
gymattendance <- read.csv("data-attendance.csv", stringsAsFactors=F)
gymattendance <- gymattendance %>% group_by(Year) %>% summarise(sum = n())
gymattendance <- read.csv("data-attendance.csv", stringsAsFactors=F)
gymattendance <- gymattendance %>% group_by(Year) %>% summarise(attendance, sum = n())
gymattendance <- read.csv("data-attendance.csv", stringsAsFactors=F)
View(gymattendance)
head(gymattendance)
gymattendance <- gymattendance %>% group_by(Year)
library(tidyverse)
library(leaflet)
library(geojson)
library(htmlwidgets)
library(htmltools)
library(rgdal)
gymattendance <- read.csv("data-attendance.csv", stringsAsFactors=F)
gymattendance
gymattendance <- gymattendance %>% group_by(Year)
gymattendance
summarise()
?summarize()
gymattendance <- gymattendance %>% group_by(Year, sex) %>% summarize(total = sum(attendance))
ggplot(gymattendance, aes(x=Year, y=attendance)) +
geom_line()
ggplot(gymattendance, aes(x=Year, y=total)) +
geom_line()
ggplot(gymattendance, aes(x=Year, y=total, colour=variable)) +
geom_line()
ggplot(gymattendance, aes(x=Year, y=total, colour=sex)) +
geom_line()
bostonmap
bostonmap <- leaflet(boston) %>%
addProviderTiles("CartoDB.Positron") %>%
setView(-71.061229, 42.357379, zoom = 13) %>%
addPolygons(data=bostoneight,
col = 'dodgerblue',
label = ~Ward_Num,
stroke = TRUE,
fillOpacity = .2,
smoothFactor = 0.5) %>%
addCircleMarkers(label=~gym.name,
weight = 3,
radius=5,
color=~pal(type))
bostonmap
boston1895to1912<- readOGR("boston_wards_1895_1912.shp")
boston1895to1912 <- spTransform(bostoneight, CRS("+proj=longlat +ellps=GRS80"))
bostonmap1912 <- leaflet(boston) %>%
addProviderTiles("CartoDB.Positron") %>%
setView(-71.061229, 42.357379, zoom = 13) %>%
addPolygons(data=bostoneight,
col = 'dodgerblue',
label = ~Ward_Num,
stroke = TRUE,
fillOpacity = .2,
smoothFactor = 0.5) %>%
addCircleMarkers(label=~gym.name,
weight = 3,
radius=5,
color=~pal(type))
bostonmap1912
boston1913to1914<- readOGR("boston_wards_1913_1914.shp")
boston1913to1914 <- spTransform(bostoneight, CRS("+proj=longlat +ellps=GRS80"))
bostonmap1914 <- leaflet(boston) %>%
addProviderTiles("CartoDB.Positron") %>%
setView(-71.061229, 42.357379, zoom = 13) %>%
addPolygons(data=bostoneight,
col = 'dodgerblue',
label = ~Ward_Num,
stroke = TRUE,
fillOpacity = .2,
smoothFactor = 0.5) %>%
addCircleMarkers(label=~gym.name,
weight = 3,
radius=5,
color=~pal(type))
bostonmap1914
bostonmap1915 <- leaflet(boston) %>%
addProviderTiles("CartoDB.Positron") %>%
setView(-71.061229, 42.357379, zoom = 13) %>%
addPolygons(data=bostoneight,
col = 'dodgerblue',
label = ~Ward_Num,
stroke = TRUE,
fillOpacity = .2,
smoothFactor = 0.5) %>%
addCircleMarkers(label=~gym.name,
weight = 3,
radius=5,
color=~pal(type))
bostonmap1915
bostonmap1914
bostonmap1915
bostonmap1915
bostonmap1915
a
gymattendance <- read.csv("data-attendance.csv", stringsAsFactors=F)
gymattendance <- gymattendance %>% group_by(Year, sex) %>% summarize(total = sum(attendance))
gymattendance
ggplot(gymattendance, aes(x=Year, y=total, colour=sex)) +
geom_line()
total.yearly.attendance <- gymattendance %>% group_by(Year) %>% summarize(total = sum(attendance))
head(total.yearly.attendance)
head(attendance)
View(gymattendance)
total.yearly.attendance <- gymattendance %>% group_by(Year) %>% summarize(total = sum(total))
View(total.yearly.attendance)
ggplot(gymattendance, aes(x=Year, y=total, colour=sex)) +
geom_line()
ggplot(total.yearly.attendance, aes(x=Year, y=total)) +
geom_line()
View(total.yearly.attendance)
attendance <- read.csv("data-attendance.csv", stringsAsFactors=F)
View(attendance)
attendance <- attendance %>% group_by(Year, gymnasiums) %>% summarize(total = sum(attendance))
View(attendance)
attendance <- attendance %>% group_by(Year, gymnasiums) %>% summarize(total = sum(attendance)) %>% filter(Year == 1915)
View(attendance)
attendance <- attendance %>% group_by(Year, gymnasiums) %>% summarize(total = sum(attendance)) %>% filter(Year = 1915)
attendance <- attendance %>% group_by(Year, gymnasiums) %>% summarize(total = sum(attendance)) %>% filter(Year = "1915")
attendance <- attendance %>% group_by(Year, gymnasiums) %>% filter(Year = 1915) %>% summarize(total = sum(attendance)) %>%
bostonmap1915 <- leaflet(boston) %>%
addProviderTiles("CartoDB.Positron") %>%
setView(-71.061229, 42.357379, zoom = 13) %>%
addPolygons(data=bostongymnasiums,
col = 'dodgerblue',
label = ~Ward_Num,
stroke = TRUE,
fillOpacity = .2,
smoothFactor = 0.5) %>%
addCircleMarkers(label=~gym.name,
weight = 3,
radius=5,
color=~pal(type))
View(attendance)
attendance <- read.csv("data-attendance.csv", stringsAsFactors=F)
attendance <- attendance %>% group_by(Year, gymnasiums) %>% filter(Year = 1915) %>% summarize(total = sum(attendance)) %>%
bostonmap1915 <- leaflet(boston) %>%
addProviderTiles("CartoDB.Positron") %>%
setView(-71.061229, 42.357379, zoom = 13) %>%
addPolygons(data=bostongymnasiums,
col = 'dodgerblue',
label = ~Ward_Num,
stroke = TRUE,
fillOpacity = .2,
smoothFactor = 0.5) %>%
addCircleMarkers(label=~gym.name,
weight = 3,
radius=5,
color=~pal(type))
attendance <- attendance %>% group_by(Year, gymnasiums) %>% filter(Year = 1915) %>% summarize(total = sum(attendance))
attendance <- attendance %>% group_by(Year, gymnasiums) %>% filter(Year == 1915) %>% summarize(total = sum(attendance))
View(attendance)
gyms <- read.csv("data-gymnasiums.csv", stringsAsFactors = FALSE)
bostongymnasiums <- left_join(gyms, attendance)
View(gyms)
attendance <- read.csv("data-attendance.csv", stringsAsFactors=F)
attendance <- attendance %>% group_by(Year, gymnasiums) %>% filter(Year == 1915) %>% summarize(total = sum(attendance))
attendance <- attendance %>% group_by(Year, gymid) %>% filter(Year == 1915) %>% summarize(total = sum(attendance))
gyms <- read.csv("data-gymnasiums.csv", stringsAsFactors = FALSE)
bostongymnasiums <- left_join(gyms, attendance)
colnames(bostongymnasiums)
bostonmap1915 <- leaflet(boston) %>%
addProviderTiles("CartoDB.Positron") %>%
setView(-71.061229, 42.357379, zoom = 13) %>%
addPolygons(data=bostongymnasiums,
col = 'dodgerblue',
label = ~Ward_Num,
stroke = TRUE,
fillOpacity = .2,
smoothFactor = 0.5) %>%
addCircleMarkers(label=~name,
weight = 3,
radius= ~ sqrt(total),
color=~pal(type))
bostonmap1915 <- leaflet(boston) %>%
addProviderTiles("CartoDB.Positron") %>%
setView(-71.061229, 42.357379, zoom = 13) %>%
addPolygons(data=bostongymnasiums,
col = 'dodgerblue',
label = ~Ward_Num,
stroke = TRUE,
fillOpacity = .2,
smoothFactor = 0.5) %>%
addCircleMarkers(label=~name,
weight = 3,
radius= ~ sqrt(total),
color=~pal(type))
View(boston)
bostonmap1915 <- leaflet(bostongymnasiums) %>%
addProviderTiles("CartoDB.Positron") %>%
setView(-71.061229, 42.357379, zoom = 13) %>%
addPolygons(data=bostongymnasiums,
col = 'dodgerblue',
label = ~Ward_Num,
stroke = TRUE,
fillOpacity = .2,
smoothFactor = 0.5) %>%
addCircleMarkers(label=~name,
weight = 3,
radius= ~ sqrt(total),
color=~pal(type))
bostoneight <- readOGR("boston_wards_1915_1925.shp")
bostoneight <- spTransform(bostoneight, CRS("+proj=longlat +ellps=GRS80"))
bostonmap1915 <- leaflet(bostongymnasiums) %>%
addProviderTiles("CartoDB.Positron") %>%
setView(-71.061229, 42.357379, zoom = 13) %>%
addPolygons(data=bostoneight,
col = 'dodgerblue',
label = ~Ward_Num,
stroke = TRUE,
fillOpacity = .2,
smoothFactor = 0.5) %>%
addCircleMarkers(label=~name,
weight = 3,
radius= ~ sqrt(total),
color=~pal(type))
bostonmap1915
bostongymnasiums
138000/10000
bostonmap1915 <- leaflet(bostongymnasiums) %>%
addProviderTiles("CartoDB.Positron") %>%
setView(-71.061229, 42.357379, zoom = 13) %>%
addPolygons(data=bostoneight,
col = 'dodgerblue',
label = ~Ward_Num,
stroke = TRUE,
fillOpacity = .2,
smoothFactor = 0.5) %>%
addCircleMarkers(label=~name,
weight = 3,
radius= ~total/1000,
color=~pal(type))
bostonmap1915
bostongymnasiums
attendance <- read.csv("data-attendance.csv", stringsAsFactors=F)
attendance <- attendance %>% group_by(Year, gymid) %>% filter(Year == 1915) %>% summarize(total = sum(attendance))
gyms <- read.csv("data-gymnasiums.csv", stringsAsFactors = FALSE)
bostongymnasiums <- left_join(gyms, attendance)
bostonmap1915 <- leaflet(bostongymnasiums) %>%
addProviderTiles("CartoDB.Positron") %>%
setView(-71.061229, 42.357379, zoom = 13) %>%
addPolygons(data=bostoneight,
col = 'dodgerblue',
label = ~Ward_Num,
stroke = TRUE,
fillOpacity = .2,
smoothFactor = 0.5) %>%
addCircleMarkers(label=~name,
weight = 3,
radius= ~total/1000,
color=~pal(type))
bostonmap1915
View(bostongymnasiums)
View(bostongymnasiums)
